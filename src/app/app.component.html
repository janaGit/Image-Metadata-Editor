<div id='page-header'>
  <div id="title">
    <h1> Image Metadata Editor </h1>
    <span class="glyphicon glyphicon-edit" id="mainIcon" aria-hidden="true"></span></div>

  <button id="changeView_Button" class="btn" (click)="changeView()"> {{_changeView_button_text}}</button>
  <button class="btn" id="refresh-button">
    <span class="glyphicon glyphicon-refresh" id="refresh-icon" aria-hidden="true"></span>
  </button>

  <div id="lang_dropdown" dropdown>
    <button id="lang_button" class="btn" dropdownToggle>
        {{_lang}} <span class="caret"></span>
    </button>
    <ul class="dropdown-menu">
      <li *ngFor="let lang of _languages">
        <a class="dropdown-item" (click)="select_lang($event)">{{lang}}</a>
      </li>
    </ul>
  </div>
</div>

<router-outlet id="content"></router-outlet>
<bottom-bar *ngIf="_editorService.fileTabOpen">
  <div id="menu">
    <div id="visibleImages_dropdown" class="dropdown menuItems">
      <div dropdown>
        <button id="visibleImages_button" class="btn" dropdownToggle>{{_visibleImage}} <span class="caret"></span></button>
        <ul class="dropdown-menu dropdown-menu-right">
          <li class="li-equal-width" *ngFor="let visibleImage of _visibleImages">
            <a class="dropdown-item" (click)="select_visibleImages($event)">{{visibleImage}}</a>
          </li>
        </ul>
      </div>
    </div>
    <button id="copyAll" class="btn menuItems" (click)="copyAll()">Copy all</button>
    <button id="deleteAll" class="btn menuItems" (click)="deleteAllCopies()">Delete all copies</button>
  </div>
  <div id="hoverbox">
    <ul class="hoverbox">
      <div *ngFor="let imgName of _imageNames_original">
        <!-- *ngIf: To add and remove the onMouseOverImage directive and the contextMenu -->
        <li *ngIf="isInImagesFolder(imgName)&&_visibleImage!==_visibleImages[2]">
          <a>
            <img src="{{_imageService.imageDir_original}}/{{imgName}}" alt="description" [class.editing]="isInEditingModus(imgName)"
              (onMouseOverImage)="onMouseOverImage($event)" [contextMenuElements]="_contextMenuElements_edited" />
            <img src="{{_imageService.imageDir_original}}/{{imgName}}" class="preview" [class.editing]="isInEditingModus(imgName)" (onMouseOverImage)="onMouseOverImage($event)"
              [contextMenuElements]="_contextMenuElements_edit" />
          </a>
        </li>
        <li *ngIf="isInImagesEditedFolder(imgName)&&_visibleImage!==_visibleImages[2]">
          <div id="hoverboxImagesEdited">
            <a>
              <img src="{{_imageService.imageDir_original}}/{{imgName}}" alt="description" [class.editing]="isInEditingModus(imgName)"
                (contextmenu)="$event.preventDefault()" />
              <img src="{{_imageService.imageDir_original}}/{{imgName}}" class="preview" [class.editing]="isInEditingModus(imgName)" (contextmenu)="$event.preventDefault()"
              />
            </a>
            <span>Image Gallery</span>
          </div>
        </li>
        <li *ngIf="!isInEditingModus(imgName)&&_visibleImage!==_visibleImages[1]">
          <a>
            <img src="{{_imageService.imageDir_original}}/{{imgName}}" alt="description" [class.editing]="isInEditingModus(imgName)"
              (onMouseOverImage)="onMouseOverImage($event)" [contextMenuElements]="_contextMenuElements" />
            <img src="{{_imageService.imageDir_original}}/{{imgName}}" class="preview" [class.editing]="isInEditingModus(imgName)" (onMouseOverImage)="onMouseOverImage($event)"
              [contextMenuElements]="_contextMenuElements" />
          </a>
        </li>
      </div>

    </ul>
  </div>
</bottom-bar>
